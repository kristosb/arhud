(this.webpackJsonparhud=this.webpackJsonparhud||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var i=n(13),a=n.n(i),o=n(17),r=n.n(o),s=(n(22),n(23),n(0)),c=n(1),h=n(2),u=n(3),f=n(6);function d(e){var t=new f.f,n=new f.a(.1,.1,.1),i=new f.a(2e-5,2e-5,2e-5);function a(t,n,i,a,o){var r=new f.i({color:n}),s=new f.g(t,r);return e.add(s),s.position.x=i,s.position.y=a,s.position.z=o,s}a(n,4500104,0,0,-.15),a(i,16711680,-.032,0,-2e-4),a(i,65280,.032,0,-2e-4);t.rotation.z=Math.PI/4;return{update:function(e){}}}function p(e){var t=new f.d(16777215,1);return t.position.set(-1,2,4),e.add(t),{update:function(e){}}}var l=n(8),w=n(7),m=n(16),v=new l.a,y=new l.a,g=new l.a,S=function(){function e(){Object(s.a)(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.offset=0,this.cameraL=new m.a,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new m.a,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null,offset:null}}return Object(c.a)(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep||t.offset!==this.offset){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,t.offset=this.offset;var n,i,a=e.projectionMatrix.clone(),o=t.eyeSep/2,r=o*t.near/t.focus,s=t.near*Math.tan(w.a.DEG2RAD*t.fov*.5)/t.zoom;y.elements[12]=-o,v.elements[12]=o,n=-s*t.aspect+r,i=s*t.aspect+r,a.elements[0]=2*t.near/(i-n),a.elements[8]=(i+n)/(i-n);g.identity(),g.setPosition(this._cache.offset,0,0),g.copy(g.multiply(a)),this.cameraL.projectionMatrix.copy(g),n=-s*t.aspect-r,i=s*t.aspect-r,a.elements[0]=2*t.near/(i-n),a.elements[8]=(i+n)/(i-n),-s+r,s+r,g.identity(),g.setPosition(-this._cache.offset,0,0),g.copy(g.multiply(a)),this.cameraR.projectionMatrix.copy(g)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(y),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(v)}}]),e}(),x=function(e){var t=new S;t.aspect=.5;var n=new f.n;e.getSize(n),this.setEyeSeparation=function(e){t.eyeSep=e},this.setOffset=function(e){t.offset=e},this.setSize=function(t,n){e.setSize(t,n)},this.render=function(i,a){i.updateMatrixWorld(),null===a.parent&&a.updateMatrixWorld(),t.update(a),e.getSize(n),e.autoClear&&e.clear(),e.setScissorTest(!0),e.setScissor(0,0,n.width/2,n.height),e.setViewport(0,0,n.width/2,n.height),e.render(i,t.cameraL),e.setScissor(n.width/2,0,n.width/2,n.height),e.setViewport(n.width/2,0,n.width/2,n.height),e.render(i,t.cameraR),e.setScissorTest(!1)}};function j(e,t){t.width,t.height;new f.m(t).needsUpdate=!0;var n=new f.h({color:16776960,side:f.e});n.transparent=!0;var i=new f.k(.4,.4),a=new f.g(i,n);return a.position.set(0,0,-.15),e.add(a),{update:function(e){}}}function b(e){var t=new f.b,n=(new f.o(0,0,0),{width:e.width,height:e.height}),i={x:0,y:0},a=function(){var e=new f.l;return e.background=new f.c("black"),e}(),o=function(t){var n=t.width,i=t.height,a=new f.p({canvas:e,antialias:!0,alpha:!0}),o=window.devicePixelRatio?window.devicePixelRatio:1;return a.setPixelRatio(o),a.setSize(n,i),a.autoClear=!1,a.gammaInput=!0,a.gammaOutput=!0,a}(n),r=function(e){var t=e.width,n=e.height,i=t/n,a=new f.j(90,i,1e-4,20);return a.focus=3,a.position.set(0,0,0),a}(n),s=function(e){return[new p(e),new d(e)]}(a),c=new x(o);c.setSize(n.width,n.height),c.setEyeSeparation(.064),c.setOffset(0);var h=0;a.add(r),console.log(n);new j(a,e);var u=Math.tan(Math.PI/180*r.fov/2),l=150;return window.addEventListener("keypress",(function(e){var t=e.which;(t>=48&&t<=57||t>=97&&t<=122||t>=65&&t<=90)&&(49==t&&(h+=.1,c.setOffset(h)),50==t&&(h-=.1,c.setOffset(h)),console.log(h))})),{update:function(){for(var e=t.getElapsedTime(),n=0;n<s.length;n++)s[n].update(e);c.render(a,r)},onWindowResize:function(){var t=e.width,i=e.height;n.width=t,n.height=i,r.aspect=t/i,r.fov=360/Math.PI*Math.atan(u*(i/l)),c.setOffset((n.width-300)*(.254/454)),r.updateProjectionMatrix(),c.setSize(t,i),o.setSize(t,i)},onMouseMove:function(e,t){i.x=e,i.y=t}}}n(25);var z=n(11),M=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){!function(e){var t=function(e,t){var n=e.createElement("canvas");return t.appendChild(n),n}(document,e),n=new b(t);function i(){t.style.width="100%",t.style.height="100%",t.width=t.offsetWidth,t.height=t.offsetHeight,Math.round(t.offsetWidth/2),Math.round(t.offsetHeight/2),n.onWindowResize()}window.onresize=i,i(),function e(t){n.update(),requestAnimationFrame(e)}()}(this.threeRootElement)}},{key:"render",value:function(){var e=this;return Object(z.jsx)("div",{className:"viewer-viewer",ref:function(t){return e.threeRootElement=t}})}}]),n}(i.Component);var O=function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(M,{})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))};r.a.render(Object(z.jsx)(a.a.StrictMode,{children:Object(z.jsx)(O,{})}),document.getElementById("root")),R()}},[[27,1,2]]]);
//# sourceMappingURL=main.d4035f2e.chunk.js.map